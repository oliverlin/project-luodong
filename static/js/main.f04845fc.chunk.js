(window["webpackJsonpproject-luodong"]=window["webpackJsonpproject-luodong"]||[]).push([[0],{125:function(e,n,t){e.exports=t(304)},264:function(e,n,t){var r=t(99),a=120;function o(e){var n=e.taskType,t=e.expiredAt,a=e.complexity,o=e.difficulty,i=e.issueId;return{id:r(),issueId:i,progress:0,complexity:a,difficulty:o,resolved:0,expiredAt:t,taskType:n,consumedTick:0,state:"created"}}e.exports.newIssue=function(e){for(var n=r(),t=e+(40+Math.floor(40*Math.random())),i=Math.random()>.8,s=1+Math.floor(3*Math.random()),c=0,d=[],u=0;c<s;){var l=["frontend","backend","design"][Math.floor(3*Math.random())],f=10*a,p=10+Math.floor(Math.random()*f),v=1+Math.round(4*p/f);d.push(o({taskType:l,expiredAt:t,complexity:p,difficulty:v,issueId:n})),c+=1,u+=p}return{id:n,tasks:d,required:i,startedAt:e,expiredAt:t,score:u,penalty:0,state:"created"}}},267:function(e,n,t){var r=t(99),a=t(268);e.exports.newDevelopers=function(){var e=a[Math.floor(Math.random()*a.length)];return Object.keys(e).map(function(n){var t=e[n];return function(e){var n=e.name,t=e.backend,a=e.frontend,o=e.design,i=r();return{id:i,name:n,backend:t,frontend:a,design:o,cooldown:0,cooldownReason:"",avatar:"https://robohash.org/".concat(i,".png?size=100x100&set=set5")}}({name:n,frontend:t.frontend,backend:t.backend,design:t.design})})}},268:function(e,n){e.exports=[{James:{frontend:90,backend:30,design:30},Marsha:{frontend:30,backend:90,design:30},Wolves:{frontend:30,backend:30,design:90},Alan:{frontend:30,backend:40,design:30},Joker:{frontend:30,backend:40,design:30},Owen:{frontend:30,backend:40,design:40}},{Owen:{frontend:100,backend:40,design:30},Wesely:{frontend:50,backend:30,design:30},Richard:{frontend:30,backend:120,design:70},Wendy:{frontend:20,backend:60,design:10},Island:{frontend:30,backend:10,design:80}},{Owen:{frontend:30,backend:120,design:50},Wesely:{frontend:100,backend:60,design:30},Richard:{frontend:120,backend:30,design:50},Wendy:{frontend:90,backend:30,design:30},Robert:{frontend:30,backend:40,design:110},Roger:{frontend:80,backend:40,design:40}},{Owen:{frontend:120,backend:120,design:30},Wesely:{frontend:30,backend:30,design:120},Richard:{frontend:60,backend:30,design:30},Wendy:{frontend:30,backend:60,design:30},Robert:{frontend:50,backend:30,design:30},Roger:{frontend:30,backend:40,design:30},Watson:{frontend:30,backend:30,design:30}}]},302:function(e,n){var t=document.getElementById("c"),r=t.getContext("2d");t.height=window.innerHeight,t.width=window.innerWidth;var a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ123456789@#$%^&*()*&^%+-/~{[|`]}";a=a.split("");for(var o=10,i=t.width/o,s=[],c=0;c<i;c++)s[c]=1;setInterval(function(){r.fillStyle="rgba(0, 0, 0, 0.04)",r.fillRect(0,0,t.width,t.height),r.fillStyle="#f4427d",r.font=o+"px arial";for(var e=0;e<s.length;e++){var n=a[Math.floor(Math.random()*a.length)];r.fillText(n,e*o,s[e]*o),s[e]*o>t.height&&Math.random()>.975&&(s[e]=0),s[e]++}},35)},303:function(e,n,t){},304:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),o=t(8),i=t.n(o),s=t(3),c=t(23),d=t(41),u=t(6),l=t(7),f=t(46),p=t(43),v=t(47),m=t(2),g=t(18),h="DROPPABLE_RESOURCE_PANEL",b=800,k=function(e){switch(e){case"backend":return"#4185f4";case"design":return"#fbbe08";case"frontend":return"#3aab58"}};function y(){var e=Object(s.a)(["\n  margin-bottom: 2px;\n  position: relative;\n  height: ",";\n  .bar{\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: ","%;\n    background: ",";\n    height: ",";\n    z-index: 2;\n    transition: ","s width;\n  }\n  .bg{\n    width: 100%;\n    background: ",";\n    height: ",";;\n    position: absolute;\n    z-index: 1;\n    opacity: 0.5;\n  }\n  &:last-child{\n    margin: 0;\n  }\n"]);return y=function(){return e},e}var x=b/1e3-.05,w=m.default.div(y(),function(e){return e.compact?"4px":"8px"},function(e){return 100*e.value},function(e){return e.color},function(e){return e.compact?"4px":"8px"},x,function(e){return e.color},function(e){return e.compact?"4px":"8px"}),E=function(e){var n=e.type,t=e.value,r=e.withBackground,o=e.compact;return a.a.createElement(w,{compact:o,value:t,color:k(n)},a.a.createElement("div",{className:"bar"}),r&&a.a.createElement("div",{className:"bg"}))},O=t(44),j=t.n(O);function D(){var e=Object(s.a)(["\n  color: ",";\n  font-size: 12px;\n"]);return D=function(){return e},e}var T=function(e){var n=e.value,t=e.color,r=j()(n,function(){return"\u2663\ufe0e"});return a.a.createElement(S,{color:t},r)},S=m.default.div(D(),function(e){return e.color});function I(){var e=Object(s.a)(["\n  .cancel-btn{\n    cursor: pointer;\n  }\n"]);return I=function(){return e},e}function M(){var e=Object(s.a)(["\n  background: #fff;\n  margin-right: 10px;\n  overflow: hidden;\n  width: 80px;\n  height: 60px;\n  border-bottom-right-radius: 4px;\n  border-bottom-left-radius: 4px;\n  border-top-right-radius: 4px;\n  border-top-left-radius: 4px;\n  &:last-child{\n    margin: 0;\n  }\n"]);return M=function(){return e},e}function R(){var e=Object(s.a)(["\n  background: ",";\n  padding: 5px;\n  .a, .b, .c{\n    height: 20px;\n  }\n  .b{\n    font-size: 12px;\n    text-align: center;\n    color: #ababab;\n    font-weight: bold;\n    font-family: 'Modak', cursive;\n  }\n"]);return R=function(){return e},e}var _=function(e){var n,t=e.id,r=e.progress,o=e.difficulty,i=e.taskType,s=e.onRemove,c=e.dev;return 1===r?a.a.createElement(P,null,"Finished"):a.a.createElement(P,null,a.a.createElement("div",null,a.a.createElement(E,{withBackground:!0,type:i,value:r})),c?a.a.createElement(z,null,c.name,a.a.createElement("div",{className:"cancel-btn",onClick:(n=c.id,function(){s(n)})},"Cancel")):a.a.createElement(g.c,{droppableId:t,isCombineEnabled:!0},function(e,n){return a.a.createElement(N,{isHovering:n.isDraggingOver,ref:e.innerRef},a.a.createElement("div",{className:"wi"},a.a.createElement("div",{index:0,className:"a"},a.a.createElement(T,{value:o,color:k(i)})),a.a.createElement("div",{index:1,className:"b"},"Drop here!"),a.a.createElement("div",{index:2,className:"c"}),e.placeholder))}))},N=m.default.div(R(),function(e){return e.isHovering?"#e1e1e1":"#fff"}),P=m.default.div(M()),z=m.default.div(I()),A=t(120),W=function(e){var n=e.strengthPercentage,t=e.children;return a.a.createElement(A.Shake,{h:5*n,v:5*n,r:3*n,int:38.8,max:100*n,fixed:!0,fixedStop:!1,freez:!0},t)};function C(){var e=Object(s.a)(["\n  display: flex;\n"]);return C=function(){return e},e}function B(){var e=Object(s.a)(["\n  display: flex;\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  transition-property: transform;\n  transition-timing-function: linear;\n  transition-duration: ","s;\n  justify-content: center;\n  opacity: ",";\n  .container{\n    background: rgba(255, 255, 255, 0.2);\n    border: 1px solid rgba(100, 100, 100, 0.4);\n    border-radius: 8px;\n    padding: 10px;\n  }\n  .critical{\n    color: #fff;\n    font-size: 13px;\n    font-weight: bold;\n    margin-bottom: 5px;\n  }\n"]);return B=function(){return e},e}var U=b/1e3-.05,q=function(e){var n=e.tasks,t=e.position,r=e.required,o=e.onRemove,i=e.percentage,s=(e.resuired,!n.some(function(e){return 1!==e.progress})),c=i;return a.a.createElement(G,{allFinished:s,position:t},s?a.a.createElement("div",null,"Issue completed!"):a.a.createElement(W,{strengthPercentage:c},a.a.createElement("div",{className:"container"},r&&a.a.createElement("div",{className:"critical"},"Critical!"),a.a.createElement(H,null,n.map(function(e){return a.a.createElement(_,{key:e.id,id:e.id,onRemove:o,difficulty:e.difficulty,devId:e.devId,dev:e.dev,progress:e.progress,complexity:e.complexity,taskType:e.taskType,state:e.state})})))))},G=m.default.div.attrs(function(e){return{style:{transform:"translateY(".concat(e.position,"px)")}}})(B(),U,function(e){return e.allFinished?.4:1}),H=m.default.div(C());function L(){var e=window;return{width:e.innerWidth,height:e.innerHeight}}var F=t(121),J=t.n(F);function Y(){var e=Object(s.a)(["\n  height: calc(100% + ","px);\n  display: flex;\n  flex-direction: column;\n"]);return Y=function(){return e},e}function $(){var e=Object(s.a)(["\n  margin-top: -120px;\n  height: calc(100% + ","px);\n"]);return $=function(){return e},e}function K(){var e=Object(s.a)(["\n  display: flex;\n  .col{\n    flex: 1;\n    position: relative;\n  }\n"]);return K=function(){return e},e}function Q(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}var V=function(e){var n=e.issues,t=e.currentTime,o=e.onRemove,i=function(){var e=Object(r.useState)(L()),n=Object(c.a)(e,2),t=n[0],a=n[1];return Object(r.useEffect)(function(){function e(){a(L())}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}},[]),t}().height,s=n.map(function(e){var n,r=e.expiredAt,a=r-e.startedAt,o=r-t;(n=Math.abs(o/a))>1&&(n=1);var s=1-n;return function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Q(t,!0).forEach(function(n){Object(d.a)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Q(t).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}({},e,{percentage:s,position:Math.floor(s*(i+120))})}),u=J()(s,function(e){return Math.floor(e.no%3)}),l=j()(3,function(e){return a.a.createElement("div",{className:"col"},a.a.createElement(ee,null,(u[e]||[]).filter(function(e){return e.expiredAt>t}).map(function(e){return a.a.createElement(q,{key:e.no,id:e.id,tasks:e.tasks,onRemove:o,percentage:e.percentage,position:e.position,required:e.required,expiredAt:e.expiredAt})})))});return a.a.createElement(Z,null,a.a.createElement(X,null,l))},X=m.default.div(K()),Z=m.default.div($(),120),ee=m.default.div(Y(),120);function ne(){var e=Object(s.a)(["\n  width: 80px;\n  height: 48px;\n  background: #fff;\n  border-radius: 4px;\n  margin-bottom: 10px;\n  padding: 10px 6px;\n  opacity: ",";\n  position: relative;\n  box-shadow: 0 1px 6px rgba(80,80,80,0.1);\n  &:hover{\n    box-shadow: ",";\n  }\n  .cd{\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    height: 48px;\n    background: rgba(20, 20, 20, 0.2);\n    z-index: 2;\n    background: #f97376d9;\n    color: #fff;\n    text-align: left;\n    padding-left: 5px;\n    padding-top: 3px;\n    text-shadow: 0 1px 5px rgba(189, 65, 68, 0.9);\n    font-weight: bold;\n    .time{\n      font-size: 20px;\n      line-height: 1.1;\n    }\n    .reason{\n      font-size: 12px;\n    }\n  }\n  .info{\n    position: relative;\n    display: flex;\n    font-size: 14px;\n    align-items: center;\n    z-index: 1;\n    .name{\n      margin-right: 6px;\n      font-size: 12px;\n      font-weight: bold;\n    }\n  }\n  .busy{\n    position: absolute;\n    background: rgba(100, 100, 100, 0.2);\n    color: #999;\n    font-size: 12px;\n  }\n"]);return ne=function(){return e},e}var te=function(e){var n=e.resourceName,t=e.draggableId,r=e.backend,o=e.cooldown,i=e.design,s=e.frontend,c=e.cooldownReason,d=e.used,u=e.index;return a.a.createElement(g.b,{draggableId:t,isDragDisabled:d,index:u},function(e,t){return a.a.createElement(re,Object.assign({isDragging:t.isDragging,isUsed:d,ref:e.innerRef},e.draggableProps,e.dragHandleProps),a.a.createElement(E,{compact:!0,type:"backend",value:r/120}),a.a.createElement(E,{compact:!0,type:"design",value:i/120}),a.a.createElement(E,{compact:!0,type:"frontend",value:s/120}),o>0&&a.a.createElement("div",{className:"cd"},a.a.createElement("div",{className:"time"},"CD ",o),a.a.createElement("div",{className:"reason"},c)),a.a.createElement("div",{className:"info"},a.a.createElement("div",{className:"name"},n)),d&&a.a.createElement("div",{className:"busy"},"BUSY"))})},re=m.default.div(ne(),function(e){return e.isDragging||e.isUsed?.6:1},function(e){return e.isDragging||e.isUsed?"0 1px 6px rgba(80,80,80,0.1)":"0 2px 9px rgba(80,80,80,0.3)"}),ae=t(42),oe=t(65),ie=t.n(oe);function se(){var e=Object(s.a)(["\n  text-align: right;\n  color: #f45b5d;\n  font-size: 13px;\n  opacity: ",";\n"]);return se=function(){return e},e}function ce(){var e=Object(s.a)(["\n  background: #fff;\n  margin: 0;\n  padding: 10px;\n  .score{\n    display: flex;\n    justify-content: space-between;\n    font-size: 14px;\n    white-space: nowrap;\n    color: #4185f4;\n    font-weight: bold;\n  }\n"]);return ce=function(){return e},e}var de=function(e){function n(){var e,t;Object(u.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=Object(f.a)(this,(e=Object(p.a)(n)).call.apply(e,[this].concat(a)))).state={decreasedScore:0},t._scheduleDeceasingScore=function(e){clearTimeout(t.timeoutId),t._setDeceasingScore(e),t.timeoutId=setTimeout(t._setDeceasingScore.bind(Object(ae.a)(t),0),3e3)},t._setDeceasingScore=function(e){t.setState({decreasedScore:e})},t}return Object(v.a)(n,e),Object(l.a)(n,[{key:"componentDidUpdate",value:function(e){var n=e.value-this.props.value;n>0&&this._scheduleDeceasingScore(n)}},{key:"render",value:function(){var e=this.props.value,n=this.state.decreasedScore;return a.a.createElement(ue,null,a.a.createElement("div",{className:"score"},"Revenue:",a.a.createElement(ie.a,{end:e})),a.a.createElement(le,{show:n>0},"-",a.a.createElement(ie.a,{duration:.5,end:n})))}}]),n}(r.Component),ue=m.default.div(ce()),le=m.default.div(se(),function(e){return e.show?1:0});function fe(){var e=Object(s.a)(["\n  margin: 0;\n  font-size: 12px;\n  background: #fff;\n  padding: 10px 10px 0 10px;\n  b{\n    font-size: 15px;\n    font-weight: bold;\n  }\n"]);return fe=function(){return e},e}var pe=function(e){var n=e.ticks,t=Math.floor(n/4)+1;return a.a.createElement(ve,null,1===t?"Last week!":a.a.createElement("div",null,a.a.createElement("b",null,t)," weeks remain"))},ve=m.default.div(fe());function me(){var e=Object(s.a)(["\n  padding: 20px;\n"]);return me=function(){return e},e}var ge=function(e){var n=e.resources,t=e.score,r=e.remainingTicks;return a.a.createElement("div",null,r>0&&a.a.createElement(pe,{ticks:r}),a.a.createElement(de,{value:t}),a.a.createElement(g.c,{droppableId:h},function(e,t){return a.a.createElement(he,{ref:e.innerRef},n.map(function(e,n){return a.a.createElement(te,{key:e.id,draggableId:e.id,cooldownReason:e.cooldownReason,index:n,resourceName:e.name,backend:e.backend,cooldown:e.cooldown,design:e.design,frontend:e.frontend,used:e.used})}),e.placeholder)}))},he=m.default.div(me()),be=function(){function e(n){Object(u.a)(this,e),this.developerMap=n.reduce(function(e,n){return e[n.id]=n,e},{}),this.devTaskMap={}}return Object(l.a)(e,[{key:"assignWork",value:function(e,n){var t=this.developerMap[e];void 0!==t?void 0===this.devTaskMap[e]?t.cooldown>0?console.error("developer ".concat(t.name," is on cooldown state")):this.devTaskMap[e]=n:console.error("developer ".concat(t.name," is busy")):console.error("developer ".concat(e," not found"))}},{key:"releaseDeveloper",value:function(e){delete this.devTaskMap[e]}},{key:"workingDeveloperRecords",value:function(){var e=this.developerMap,n=this.devTaskMap;return Object.keys(this.devTaskMap).map(function(t){return{developer:e[t],taskId:n[t]}})}},{key:"list",value:function(){return Object.values(this.developerMap)}},{key:"find",value:function(e){return this.developerMap[e]}},{key:"queryDeveloperTaskId",value:function(e){return this.devTaskMap[e]}}]),e}(),ke=t(264),ye=function(){function e(n){Object(u.a)(this,e),this.seed=1,this.minimumNewIssueCycle=n,this.no=0}return Object(l.a)(e,[{key:"generate",value:function(e){if(this.seed>Math.random()){var n=ke.newIssue(e);return n.no=this.no,this.no+=1,this.seed=-.1*this.minimumNewIssueCycle,n}return this.seed+=.1,null}}]),e}(),xe=function(){function e(){Object(u.a)(this,e),this.issueMap={},this.taskMap={}}return Object(l.a)(e,[{key:"add",value:function(e){var n=this.taskMap;this.issueMap[e.id]=e,e.tasks.forEach(function(e){n[e.id]=e})}},{key:"list",value:function(){return Object.values(this.issueMap)}},{key:"findTask",value:function(e){return this.taskMap[e]}},{key:"delayedIssues",value:function(e){return Object.values(this.issueMap).filter(function(n){return e-n.expiredAt>0})}}]),e}(),we=t(267),Ee=function(){function e(n,t){Object(u.a)(this,e),this.developerStore=new be(n),this.currentTime=0,this.duration=t,this.issueGenerator=new ye(6),this.issueStore=new xe,this.syncIssue(),this.scoreSeries=[this.computeScore(this.issueStore.list())]}return Object(l.a)(e,[{key:"assignDeveloper",value:function(e,n){void 0!==this.issueStore.findTask(n)?this.developerStore.assignWork(e,n):console.error("task ".concat(n," not found"))}},{key:"removeDeveloper",value:function(e){var n=e.devId,t=e.reason,r=void 0===t?"manual":t,a=e.cooldown,o=void 0===a?10:a,i=this.developerStore.find(n);void 0!==i?(this.developerStore.releaseDeveloper(n),i.cooldown=o,i.cooldownReason=r):console.error("dev ".concat(n," not found"))}},{key:"nextTick",value:function(){this.currentTime+=1,this.syncIssue(),this.updateTasks(),this.updateDevs(),this.updateIssues(),this.randomRelease(),this.scoreSeries.push(this.computeScore(this.issueStore.list()))}},{key:"state",value:function(){var e={},n=this.developerStore.queryDeveloperTaskId.bind(this.developerStore),t=this.developerStore.list().map(function(t){var r=n(t.id),a=!!r;return a&&(e[r]=t.id),Object.assign({},t,{used:a})}),r=this.issueStore.list().map(function(n){var t=n.tasks.map(function(n){var t=e[n.id]||null;return Object.assign({},n,{devId:t})});return Object.assign({},n,{tasks:t})}),a=this.computeScore(r),o=this.duration-this.currentTime,i=this.scoreSeries,s=0;return a>=17e3?s=3:a>=15e3?s=2:a>=1e4&&(s=1),{currentTime:this.currentTime,developers:t,issues:r,score:a,remainingTicks:o,scoreSeries:i,star:s}}},{key:"syncIssue",value:function(){var e=this.issueGenerator.generate(this.currentTime);e&&this.issueStore.add(e)}},{key:"updateTasks",value:function(){var e=this,n=this.updateTask.bind(this);this.developerStore.workingDeveloperRecords().forEach(function(t){var r=t.developer,a=t.taskId,o=e.issueStore.findTask(a);void 0!==o?n(r,o):console.error("task: ".concat(a," not found!"))})}},{key:"updateTask",value:function(e,n){if(n.resolved+=e[n.taskType],n.consumedTick+=1,n.consumedTick>=6&&n.resolved>=n.complexity)n.state="completed",n.progress=1,this.developerStore.releaseDeveloper(e.id);else{var t=n.consumedTick/6,r=n.resolved/n.complexity;n.progress=t<r?t:r}}},{key:"updateDevs",value:function(){this.developerStore.list().forEach(function(e){e.cooldown>0&&(e.cooldown=e.cooldown-1,0===e.cooldown&&(e.cooldownReason=""))})}},{key:"updateIssues",value:function(){var e=this.currentTime;this.issueStore.list().forEach(function(n){if("completed"!==n.state){var t=n.tasks;if(0==t.filter(function(e){return"completed"!==e.state}).length)n.state="completed";else{var r=e-n.expiredAt,a=t.reduce(function(e,n){return e+n.progress},0)/t.length;1===r&&(n.state="delayed",n.required&&(n.penalty=Math.floor(n.score*(1-a))))}}});var n=this.issueStore.delayedIssues(e),t=this.developerStore.workingDeveloperRecords().reduce(function(e,n){var t=n.developer;return e[n.taskId]=t.id,e},{}),r=this.developerStore.releaseDeveloper.bind(this.developerStore);n.forEach(function(e){e.tasks.forEach(function(e){if(t[e.id]){var n=t[e.id].devId;r(n)}})})}},{key:"computeScore",value:function(e){return e.reduce(function(e,n){var t=-1*n.penalty;return"completed"===n.state&&(t+=n.score),e+t},0)}},{key:"randomRelease",value:function(){var e=this.removeDeveloper.bind(this),n={sick:5,vacation:10,marriage:10,conference:3,jail:10},t=Object.keys(n);if(.1>=Math.random()){var r=this.developerStore.workingDeveloperRecords();if(r.length>0){var a=r[0].developer.id,o=t[Math.floor(Math.random()*t.length)];e({devId:a,reason:o,cooldown:n[o]})}}}}]),e}();var Oe=t(24),je=t.n(Oe),De=t(122),Te=t.n(De),Se=function(){window.location.reload()},Ie=function(e){var n=e.show;return a.a.createElement("div",null,"asdfasdfasd",a.a.createElement(je.a,{show:n,onHide:function(){}},a.a.createElement(je.a.Header,null,a.a.createElement(je.a.Title,null,"Result")),a.a.createElement(je.a.Body,null,"Result"),a.a.createElement(je.a.Footer,null,a.a.createElement(Te.a,{variant:"primary",onClick:Se},"Restart"))))};function Me(){var e=Object(s.a)(["\n  display: flex;\n  height: 100vh;\n  width: 100vw;\n  overflow: hidden;\n  .production-line{\n    flex: 1;\n  }\n  .resource-panel{\n    flex: 0 0 160px;\n    background: rgba(255, 255, 255, 0.6);\n  }\n"]);return Me=function(){return e},e}function Re(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function _e(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Re(t,!0).forEach(function(n){Object(d.a)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Re(t).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var Ne=function(e,n,t){var r=Array.from(e),a=r.splice(n,1),o=Object(c.a)(a,1)[0];return r.splice(t,0,o),r},Pe=function(e){function n(){var e,t;Object(u.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=Object(f.a)(this,(e=Object(p.a)(n)).call.apply(e,[this].concat(a)))).state={currentTime:null,resources:[],issues:[],intervalId:null,game:null,isDragging:!1,score:0,remainingTicks:null,gameEnded:!1},t._setUpGame=function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:120,n=we.newDevelopers(),t=new Ee(n,e);return{assignDeveloper:t.assignDeveloper.bind(t),removeDeveloper:function(e){t.removeDeveloper.bind(t)({devId:e})},nextTick:t.nextTick.bind(t),state:t.state.bind(t)}}()},t._startTicker=function(){var e=window.setInterval(t._tick,b);t.setState({intervalId:e})},t._stopTicker=function(){window.clearInterval(t.state.intervalId)},t._tick=function(){t.state.game.nextTick(),t._refreshData()},t._removeDeveloper=function(e){t.state.game.removeDeveloper(e),t._refreshData()},t._endGame=function(){t._stopTicker(),t.setState({gameEnded:!0})},t._refreshData=function(){var e=t.state,n=e.isDragging,r=e.game.state();0===r.remainingTicks&&(console.warn("END",r.remainingTicks),t._endGame()),n||t.setState({currentTime:r.currentTime,issues:r.issues,resources:r.developers,score:r.score,remainingTicks:r.remainingTicks})},t._mapResourcesToIssues=function(){var e=t.state,n=e.resources;return e.issues.map(function(e){return _e({},e,{tasks:e.tasks.map(function(e){var t=e.devId,r=n.find(function(e){return e.id===t});return r?_e({},e,{dev:r}):e})})})},t._onBeforeDragStart=function(){t._toggleDragging(!0),t._stopTicker()},t._toggleDragging=function(e){return function(){t.setState({isDragging:e})}},t._onDragEnd=function(e){if(t._toggleDragging(!1)(),t._tick(),t._startTicker(),e.destination)if(e.destination.droppableId===h)t._reorder(e);else{var n=e.draggableId,r=e.destination.droppableId;t._assignResource(n,r)}},t._assignResource=function(e,n){t.state.game.assignDeveloper(e,n),t._refreshData()},t._reorder=function(e){var n=Ne(t.state.resources,e.source.index,e.destination.index);t.setState({resources:n})},t}return Object(v.a)(n,e),Object(l.a)(n,[{key:"componentDidMount",value:function(){t(302);var e=this._setUpGame();this.setState({game:e},this._startTicker),this.audio=new Audio("https://dl.dropbox.com/s/ba0ffaw22wd2mpp/background_cat_short.mp3"),this.audio.loop=!0,this.audio.play()}},{key:"render",value:function(){var e=this.state,n=e.resources,t=e.currentTime,r=e.score,o=e.remainingTicks,i=e.gameEnded,s=this._mapResourcesToIssues();return a.a.createElement(g.a,{onBeforeDragStart:this._onBeforeDragStart,onDragEnd:this._onDragEnd},a.a.createElement(ze,null,a.a.createElement("div",{className:"production-line"},a.a.createElement(V,{currentTime:t,onRemove:this._removeDeveloper,issues:s})),a.a.createElement("div",{className:"resource-panel"},a.a.createElement(ge,{score:r,resources:n,remainingTicks:o}))),a.a.createElement(Ie,{show:i}))}}]),n}(r.Component),ze=m.default.div(Me());function Ae(){var e=Object(s.a)(["\n  height: 100vh;\n  background: #000;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  .info{\n    font-family: 'Permanent Marker', cursive;\n    text-align: center;\n    font-size: 22px;\n    color: #f4427d;\n  }\n  .btn{\n    display: inline-block;\n    padding: 15px 25px;\n    border-radius: 0;\n    font-size: 36px;\n    border: 2px solid #f983aa;\n    color: #f4427d;\n    transition: 0.2s;\n    cursor: pointer;\n    margin: 36px 0;\n    &:hover{\n      transform: scale(1.1);\n      box-shadow: 0 12px 15px rgba(0,0,0,0.2)\n      color: #999;\n    }\n  }\n"]);return Ae=function(){return e},e}var We=function(){var e=Object(r.useState)(!1),n=Object(c.a)(e,2),t=n[0],o=n[1];return t?a.a.createElement(Pe,null):a.a.createElement(Ce,null,a.a.createElement("div",{className:"info"},a.a.createElement("div",{className:"description"},"Assign your resources properly to complete issue and tasks as many as possible!"),a.a.createElement("div",{className:"btn",onClick:function(){return o(!0)}},"Start Game!!")))},Ce=m.default.div(Ae());t(303),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(We,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[125,1,2]]]);
//# sourceMappingURL=main.f04845fc.chunk.js.map